<!DOCTYPE html>  <html lang="en">  
<head>  
<meta charset="UTF-8">  
<title>Vote Registration</title>  
<style>  
/* Full screen moving gradient background and centering */  
body {  
  font-family: Arial;  
  margin: 0;  
  min-height: 100vh;  
  display: flex;  
  flex-direction: column;  
  align-items: center;  
  justify-content: flex-start;  
  padding: 20px;  /* Animated gradient */
background: linear-gradient(-45deg, #ff4e50, #f9d423, #1fddff, #2b32b2);
background-size: 400% 400%;
animation: gradientBG 15s ease infinite;
color: #fff;
}

@keyframes gradientBG {
0% {background-position: 0% 50%;}
50% {background-position: 100% 50%;}
100% {background-position: 0% 50%;}
}

/* Headings readable */
h2, h3 {
text-shadow: 1px 1px 2px #000;
text-align: center;
}

/* Center the form */
form {
background: rgba(255, 255, 255, 0.95);
padding: 20px;
width: 350px;
border-radius: 8px;
box-shadow: 0 0 10px #000;
color: #000;
margin-bottom: 30px;
}

/* Inputs and button */
input {
width: 95%;
padding: 10px;
margin: 8px 0;
border: 1px solid #ccc;
border-radius: 5px;
box-sizing: border-box;
}

button {
padding: 10px;
width: 100%;
background: #4caf50;
color: white;
border: none;
cursor: pointer;
border-radius: 5px;
font-size: 16px;
}

button:hover {
background: #45a049;
}

#error {
color: red;
margin-top: 5px;
text-align: center;
}

/* Vote cards container */
.vote-container {
display: flex;
flex-wrap: wrap;
justify-content: center;
gap: 15px;
width: 100%;
}

/* Individual vote card */
.vote-card {
background: rgba(255, 255, 255, 0.95);
border-radius: 8px;
box-shadow: 0 0 10px #000;
padding: 15px;
width: 250px;
color: #000;
}

.vote-card h4 {
margin: 0 0 10px 0;
color: #333;
}

.vote-card p {
margin: 0 0 15px 0;
font-size: 14px;
color: #555;
}

/* Action buttons */
.vote-actions {
display: flex;
justify-content: flex-end;
gap: 10px;
}

.vote-actions button {
padding: 6px 12px;
border: none;
border-radius: 4px;
cursor: pointer;
font-size: 13px;
}

.update-btn {
background-color: #2196f3;
color: white;
}

.delete-btn {
background-color: #f44336;
color: white;
}

.vote-actions button:hover {
opacity: 0.9;
}
</style>

</head>  
<body>  <h2>Vote Registration</h2>  <form id="voteForm">  
  <input type="text" id="name" placeholder="Enter Name" required />  
  <input type="number" id="age" placeholder="Enter Age" required />  
  <button type="submit">Submit</button>  
  <p id="error"></p>  
</form>  <h3>Submitted Votes</h3>  
<div id="voteList" class="vote-container"></div>  <script>  
const voteList = document.getElementById("voteList");  
let editIndex = null;  
  
// Get votes from localStorage  
function getVotes() {  
  return JSON.parse(localStorage.getItem("votes")) || [];  
}  
  
// Save votes to localStorage  
function saveVotes(votes) {  
  localStorage.setItem("votes", JSON.stringify(votes));  
}  
  
// Load votes and display as cards  
function loadVotes() {  
  voteList.innerHTML = "";  
  
  const votes = getVotes();  
  if(votes.length === 0){  
    voteList.innerHTML = "<p>No votes submitted yet.</p>";  
    return;  
  }  
  
  votes.forEach((vote, index) => {  
    const card = document.createElement("div");  
    card.className = "vote-card";  
  
    const nameElem = document.createElement("h4");  
    nameElem.innerText = vote.name;  
    card.appendChild(nameElem);  
  
    const ageElem = document.createElement("p");  
    ageElem.innerText = "Age: " + vote.age;  
    card.appendChild(ageElem);  
  
    const actionsDiv = document.createElement("div");  
    actionsDiv.className = "vote-actions";  
  
    const updateBtn = document.createElement("button");  
    updateBtn.className = "update-btn";  
    updateBtn.innerText = "Update";  
    updateBtn.onclick = () => editVote(index);  
  
    const deleteBtn = document.createElement("button");  
    deleteBtn.className = "delete-btn";  
    deleteBtn.innerText = "Delete";  
    deleteBtn.onclick = () => deleteVote(index);  
  
    actionsDiv.appendChild(updateBtn);  
    actionsDiv.appendChild(deleteBtn);  
  
    card.appendChild(actionsDiv);  
    voteList.appendChild(card);  
  });  
}  
  
// Edit vote  
function editVote(index) {  
  const votes = getVotes();  
  document.getElementById("name").value = votes[index].name;  
  document.getElementById("age").value = votes[index].age;  
  editIndex = index;  
  document.getElementById("name").focus();  
}  
  
// Delete vote with confirmation  
function deleteVote(index) {  
  if(confirm("Are you sure you want to delete this vote?")){  
    const votes = getVotes();  
    votes.splice(index,1);  
    saveVotes(votes);  
    loadVotes();  
  }  
}  
  
// Form submit with name validation  
document.getElementById("voteForm").addEventListener("submit", function(e){  
  e.preventDefault();  
  const name = document.getElementById("name").value.trim();  
  const age = parseInt(document.getElementById("age").value.trim(),10);  
  const error = document.getElementById("error");  
  
  // Only letters and spaces regex  
  const nameRegex = /^[A-Za-z\s]+$/;  
  
  if(name === ""){  
    error.innerText = "Name cannot be empty!";  
    return;  
  }  
  
  if(!nameRegex.test(name)){  
    error.innerText = "Name can contain only letters and spaces!";  
    return;  
  }  
  
  if(age < 18){  
    error.innerText = "Age must be 18 or above!";  
    return;  
  }  
  
  error.innerText = "";  
  const votes = getVotes();  
  
  if(editIndex === null){  
    votes.push({name, age});  
  } else {  
    votes[editIndex] = {name, age};  
    editIndex = null;  
  }  
  
  saveVotes(votes);  
  this.reset();  
  loadVotes();  
});  
  
document.addEventListener("DOMContentLoaded", loadVotes);  
</script>  </body>  
</html>
